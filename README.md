# SDK Quiz Generator

**OpenClaw Skill** for generating comprehensive test questions from SDK documentation with automated answer generation.

## ğŸ¯ What It Does

Transforms API/SDK documentation into structured test questions with standard answers:

### Question Types

1. **Unit Test Questions** - Single-point data queries
   - Example: *"What is BA's debt-to-asset ratio based on 2025 Q2 earnings?"*
   - Automated answer generation via SDK gateway + GPT-5.2

2. **Complex QA Questions** - Multi-hop calculations requiring multiple data points
   - Example: *"What was Apple's Free Cash Flow per Share for fiscal year 2025?"*
   - Includes specific data selection requirements

3. **Trading Strategy Questions** - Real trading strategies with instruments, timeframes, and position management
   - Example: *"Using BTCUSDT Perpetual Futures (Binance, UTC, 2025-11-10 to 2025-11-20): identify all days where Binance's BTCUSDT long/short ratio closes above 2..."*
   - Complete with entry/exit rules and backtest results

All questions are **natural language Q&A format** with complete standard answers.

## âœ¨ Key Features

- **Automated Answer Generation** - Unit Test answers generated by calling real SDK APIs + GPT-5.2
- **Diverse Question Patterns** - Varies symbols, fields, and query types automatically
- **4-Part Output** - Question + query params + SDK raw response + natural language answer
- **Difficulty Levels** - Easy/Medium/Hard/Mixed options
- **Export Formats** - Markdown or JSON

## ğŸ“¦ Installation

### Option 1: Direct Install (Recommended)
```bash
# Download and install the .skill file
openclaw skill install https://github.com/Lazarus893/sdk-quiz-generator/raw/main/sdk-quiz-generator.skill
```

### Option 2: Clone and Install
```bash
git clone https://github.com/Lazarus893/sdk-quiz-generator.git
openclaw skill install ./sdk-quiz-generator/
```

## ğŸš€ Usage

### Basic Question Generation

Ask your OpenClaw agent to generate quiz questions:

```
Generate quiz questions from this SDK doc

[paste your SDK documentation]
```

The agent will:
1. Parse the SDK documentation
2. Ask for difficulty level (easy/medium/hard/mixed)
3. Generate 5-10 questions across Unit Test, Complex QA, and Trading Strategy types
4. For Unit Test questions, automatically generate answers using the SDK gateway

### Automated Answer Generation (Unit Test)

For **Unit Test questions**, use the provided script to generate answers automatically:

```bash
# Set your OpenAI API key
export OPENAI_API_KEY="sk-..."

# Generate a complete Unit Test with answer
python3 scripts/generate_unit_test_answer.py \
  "What is QQQ's largest country weighting?" \
  "https://data-gateway.prd.space.id/api/v1/etf/country-weightings" \
  symbol=QQQ
```

**Output:**
```json
{
  "question": "What is QQQ's largest country weighting?",
  "query_params": {"symbol": "QQQ"},
  "sdk_response": {
    "success": true,
    "response": {
      "weightings": [
        {"country": "United States", "weight_percentage": "94.6600%"},
        ...
      ]
    }
  },
  "answer": "United States is QQQ's largest country weighting at 94.66%."
}
```

## ğŸ“Š Examples

See **[examples/unit_test_examples.md](examples/unit_test_examples.md)** for 8 diverse Unit Test examples:
- Different symbols: QQQ, SPY, IWM, DIA, VTI, VOO, ARKK, EEM
- Different query patterns: largest/smallest, specific lookup, count, ranking, comparison, presence check, aggregation
- Edge cases: non-zero values, excluding categories, combined weights

### Sample Questions

**Unit Test:**
```
Q: What is the United Kingdom's weight percentage in SPY?
A: The United Kingdom's weight percentage in SPY is 1.02%.
```

**Complex QA:**
```
Q: What was Apple's Free Cash Flow per Share for fiscal year 2025? 
   Outstanding shares count should use the closest to its fiscal year-end date (September 30, 2025).
A: Apple's Free Cash Flow per Share for fiscal year 2025 was $6.82...
```

**Trading Strategy:**
```
Q: Using BTCUSDT Perpetual Futures (Binance, UTC, 2025-11-10 to 2025-11-20): 
   identify all days where Binance's BTCUSDT long/short ratio closes above 2. 
   At the daily close of such days, open a 100% short position. Exit after 24 hours.
A: During the specified period, the long/short ratio closed above 2 on 2025-11-12 (2.15)...
   Total strategy return: +2.94% over 3 trades.
```

## ğŸ—ï¸ Architecture

### Unit Test Pipeline

```
SDK Doc â†’ Generate (Question + Params) â†’ Call Gateway API â†’ Get Response â†’ GPT-5.2 â†’ Answer
```

See **[PIPELINE.md](PIPELINE.md)** for complete architecture, components, and workflow documentation.

### Components

- **Question Generator** - Parses SDK docs and generates diverse questions
- **SDK Gateway Client** - Calls real APIs with query parameters
- **Answer Generator** - GPT-5.2 generates natural language answers
- **Output Formatter** - Produces 4-part JSON or Markdown

## ğŸ“– Documentation

- **[SKILL.md](SKILL.md)** - Complete skill documentation
  - Question types and formats
  - Generation workflow
  - Best practices
  - Difficulty levels

- **[PIPELINE.md](PIPELINE.md)** - Unit Test answer generation pipeline
  - Architecture diagram
  - Step-by-step workflow
  - Configuration and usage
  - Question diversity guidelines

- **[examples/unit_test_examples.md](examples/unit_test_examples.md)** - 8 diverse Unit Test examples
  - Varied symbols and query patterns
  - Edge cases and best practices

## ğŸ”§ Requirements

### For Unit Test Answer Generation:
- **OpenAI API Key** (required) - For GPT-5.2 answer generation
- **Python 3.7+** with `requests` module
- **SDK Gateway Access** - API key for the target SDK gateway

### Environment Setup:
```bash
# Required
export OPENAI_API_KEY="sk-..."

# Optional (if SDK gateway requires auth)
export SID_API_KEY="..."
```

## ğŸ“‚ Project Structure

```
sdk-quiz-generator/
â”œâ”€â”€ SKILL.md                                # Main skill instructions
â”œâ”€â”€ PIPELINE.md                             # Architecture and workflow
â”œâ”€â”€ README.md                               # This file
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate_unit_test_answer.py        # Automated answer generation
â”‚   â””â”€â”€ sid_gateway_client.py               # SDK gateway client
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ unit_test_examples.md               # 8 diverse Unit Test examples
â””â”€â”€ references/
    â”œâ”€â”€ createOHLCVProvider-example.md      # OHLCV data API example
    â””â”€â”€ financial-estimate-guidance-example.md  # Financial APIs example
```

## ğŸ“ Best Practices

### Question Generation
- **Vary symbols** - Use different stocks/ETFs (QQQ, SPY, IWM, etc.)
- **Test different fields** - Largest, smallest, specific lookup, count, ranking, comparison
- **Mix difficulty** - 40% easy, 40% medium, 20% hard (or user-specified)
- **Natural language only** - Never mention APIs or data sources in questions

### Answer Quality
- **Include specific numbers** from SDK responses
- **Show calculations** for Complex QA questions
- **Detail strategy steps** for Trading Strategy questions
- **Cite data sources** in answers (with dates when relevant)

## ğŸ¤ Contributing

Contributions welcome! Feel free to:
- Add more SDK documentation examples to `references/`
- Improve question generation patterns
- Add support for new SDK gateway endpoints
- Extend pipeline for Complex QA and Trading Strategy answer generation

## ğŸ“„ License

MIT

## ğŸ”— Links

- [OpenClaw Documentation](https://docs.openclaw.ai)
- [OpenClaw GitHub](https://github.com/openclaw/openclaw)
- [Skill Hub](https://clawhub.com)

---

**Questions or issues?** Open an issue on [GitHub](https://github.com/Lazarus893/sdk-quiz-generator/issues).
